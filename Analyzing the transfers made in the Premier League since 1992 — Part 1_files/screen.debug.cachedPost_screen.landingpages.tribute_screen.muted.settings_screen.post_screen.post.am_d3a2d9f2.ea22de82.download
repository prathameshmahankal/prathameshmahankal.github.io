(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./src/components/error/PostResultError.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),c=n("./src/components/susi/RedirectToSignIn.tsx"),l=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n.n(l),m=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(p),b=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(b),h=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),x=function(e){function t(){return u()(this,t),d()(this,f()(t).call(this,"Expected postResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id."))}return g()(t,e),t}(n.n(h)()(Error)),y=n("./src/screens/ContentErrorScreen.tsx"),v=n("./src/screens/ErrorScreen.tsx"),E=n("./src/screens/NotFoundScreen.tsx"),O=n("./src/screens/SuspendedScreen.tsx");function j(){var e=o()(["\n  fragment UnavailableForLegalReasonsScreen_unavailableForLegalReasons on UnavailableForLegalReasons {\n    lumenId\n  }\n"]);return j=function(){return e},e}function w(e){var t=e.errorData;return s.createElement(y.a,{code:451,title:"451 Not available — Medium",description:"This story is subject to a DMCA copyright or other legal or government claim.",lumenId:t.lumenId})}var S=i()(j());function k(){var e=o()(["\n  fragment WithheldInCountryScreen_withheldInCountry on WithheldInCountry {\n    lumenId\n  }\n"]);return k=function(){return e},e}function _(e){var t=e.errorData;return s.createElement(y.a,{code:451,title:"451 Not available in your country — Medium",description:"This page is not available in your country.",lumenId:t.lumenId})}var I=i()(k());function P(){var e=o()(["\n  fragment PostResultError_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n    }\n    ... on UnavailableForLegalReasons {\n      ...UnavailableForLegalReasonsScreen_unavailableForLegalReasons\n    }\n    ... on WithheldInCountry {\n      ...WithheldInCountryScreen_withheldInCountry\n    }\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return R}));var C=function(e){return!e||"Post"!==e.__typename},D=function(e){var t=e.postResult;if(!t)return s.createElement(v.a,{error:new x});switch(t.__typename){case"Unauthorized":return s.createElement(c.a,{opt_isDraft:!0});case"NotFound":return s.createElement(E.a,null);case"AccountDeleted":return s.createElement(y.a,{code:410,title:"410 Deleted by author — Medium",description:"User deactivated or deleted their account."});case"AccountSuspended":return s.createElement(O.a,{suspension:"account"});case"PostSuspended":return s.createElement(O.a,{suspension:"post"});case"RemovedByUser":return s.createElement(y.a,{code:410,title:"410 Deleted by author — Medium",description:"The author deleted this Medium story."});case"UnavailableForLegalReasons":return s.createElement(w,{errorData:t});case"WithheldInCountry":return s.createElement(_,{errorData:t});default:return s.createElement(v.a,{error:new Error("Unsupported postResult: ".concat(t.__typename))})}},R=i()(P(),S,I)},"./src/components/meter/MeterController.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(s),l=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=n.n(l),m=n("./node_modules/graphql-tag/src/index.js"),d=n.n(m),p=n("./node_modules/react/index.js"),f=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),b=n("./node_modules/react-redux/es/index.js"),g=n("./src/components/optimizely/OptimizelyWrapper.tsx"),h=n("./src/components/style/BaseThemeProvider.tsx"),x=n("./src/framework/design-system/components/index.ts"),y=n("./src/framework/style/index.ts"),v=n("./src/styles/colors.ts"),E=n("./src/styles/zIndex.ts"),O=function(){return{"0%":{transform:"translateY(100%)"},"90%":{transform:"translateY(-5%)"},"100%":{transform:"translateY(0%)"}}},j=function(e,t){return function(n){return{position:"fixed",bottom:"0",width:"100%",transform:t?"translateY(0%)":"translateY(100%)",transition:"max-height 800ms ease-in",animation:"".concat(e," ").concat(t?800:550,"ms ease-in-out"),zIndex:E.a.metabarCenter}}},w=function(e){var t,n,r,o=e.children,a=e.hide,i=e.isVisible,s=e.responsiveRules,c=e.timeOut,l=e.width,m=e.bannerType,d=p.useState(!1),f=u()(d,2),b=f[0],E=f[1],w=p.useState(null),S=u()(w,2),k=S[0],_=S[1],I=Object(y.useCx)();return c&&!k?_(setTimeout(a,c)):c||clearTimeout(k),i||setTimeout((function(){E(!0)}),800),b?null:p.createElement(h.b,null,p.createElement(x.L,{keyframes:{shiftUp:O,shiftDown:(t={fadeOut:!0},n=t.fadeOut,r=void 0===n||n,function(){return{"0%":{transform:"translateY(0%)",opacity:1},"10%":{transform:"translateY(-5%)",opacity:1},"100%":{transform:"translateY(100%)",opacity:r?0:1}}})}},(function(e){var t=e.shiftUp,n=e.shiftDown;return p.createElement("div",{className:I(i?[j(t,i)]:[j(n,i)])},p.createElement(x.M,null,(function(e){return p.createElement(g.a,{featureString:"".concat(m,"-meter-banner"),target:"background-color"},p.createElement(x.b,{boxShadow:"0px 2px 10px ".concat(e.baseColor.border.lighter),width:l||"100%",background:v.F,borderRadius:"4px 4px 0 0",position:"relative",margin:"0 auto",sm:{margin:"0 8px 8px 8px",width:"initial",borderRadius:"4px"},md:s&&s.md||{}},o))})))})))},S=n("./node_modules/pluralize/pluralize.js"),k=n.n(S),_=n("./src/util/numbers.ts"),I=function(e){return e<1||e>9?"".concat(e):Object(_.e)(e)},P=function(e,t){switch(e){case 1:return"You have two free stories left this month.";case 2:return"You have one free story left this month.";case 3:return"This is your last free story.";case 6:return"Smart stories. New ideas. No ads. $5/month.";case 7:case 11:return"Read smarter, not harder.";case 8:return"Some thoughts are worth more than a penny.";case 4:case 9:return"Know more. Upgrade today.";case 5:case 10:default:return"This is the only ad on ".concat(t,". You can make it go away.")}},C=function(e,t,n){var r=t-e,o=I(r),a=k()("story",r);switch(e){case 1:return{lg:"Members get unlimited access to the best stories on ".concat(n," — but you can read ").concat(I(t)," for free this month. Upgrade for $5/month."),sm:"Welcome to your free member preview for this month. Upgrade for unlimited access."};case 5:case 10:return{lg:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(a," left in your free member preview this month, so upgrade today for more big ideas and insightful stories."),sm:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(a," left in your free member preview this month.")};default:return{lg:"Unlock the best of ".concat(n," when you upgrade for $5/month."),sm:"Unlock the best of ".concat(n," when you upgrade for $5/month.")}}},D=function(e){return{marginTop:"1px",fontStyle:"normal",fontWeight:500,fontFamily:e.font.marketing.family,display:"flex",justifyContent:"center",height:"100px",flexDirection:"column",textAlign:"center"}},R={height:"100px",overflow:"hidden",position:"relative",":after":{position:"absolute",bottom:"0",height:"100%",width:"100%",content:'""',background:"linear-gradient(to bottom, ".concat(v.F," 0%, ").concat(Object(v.D)(0)," 25%, ").concat(Object(v.D)(0)," 75%, ").concat(v.F," 100% )")}},T=function(){return{"25%":{opacity:"1.0"},"50%":{opacity:"0.2"},"75%":{opacity:"1.0"},"100%":{transform:"translateY(calc(-100% + 100px))"}}},L=function(e){var t=e.maxNumber,n=e.minNumber,r=Object(y.useCx)();return p.createElement(x.L,{keyframes:{rollUp:T}},(function(e){var o,a=e.rollUp;return p.createElement("div",{className:r(R)},p.createElement("div",{className:r((o=a,function(e){return{fontSize:"42px",color:e.accentColor.fill.normal,fill:e.accentColor.fill.normal,animation:"".concat(o," 1.5s cubic-bezier(.68, 0, .15,1) forwards 800ms")}}))},Array.from(Array(t-n+1)).map((function(e,n){return p.createElement("div",{className:r(D),key:"number".concat(t-n)},t-n)}))))}))},A=n("./src/components/session/WithViewer.tsx"),U=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),N=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),M=n("./src/components/susi/alternate-user/NotYou.tsx"),B=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),F=n("./src/components/upsell/UpsellClickable.tsx"),z=n("./src/framework/design-system/type/index.ts"),W=n("./src/framework/design-system/util/style/responsiveStyles.ts"),V=n("./src/framework/reporter/index.ts"),Y=n("./src/framework/source/index.ts"),G=n("./src/framework/track/UpsellPresentationTracker.tsx"),K=n("./src/screens/helpers/users.ts"),q=n("./src/store/actions/navigation.ts"),$=n("./src/svg/arrow-down-19px.svg");function H(){var e=o()(["\n  fragment LIMeterBanner_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return H=function(){return e},e}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=function(e){return function(t){var n=e?"solid 1px ".concat(t.baseColor.border.lighter):"none";return Object(W.a)(t,{maxHeight:e?"200px":0,overflow:"hidden",animationDelay:"200ms",transition:"max-height 250ms ease-in",borderTop:{xs:n,sm:n,md:"none",lg:"none",xl:"none"},paddingTop:{xs:e?"12px":"0",sm:e?"12px":"0",md:"0",lg:"0",xl:"0"}})}},Q=function(e){return function(t){var n=e?"none":"block",r="block";return Object(W.a)(t,{visibility:e?"hidden":"visible",fill:t.baseColor.text.lighter,":hover":{fill:t.baseColor.text.normal},display:{xs:n,sm:n,md:r,lg:r,xl:r}})}},Z=function(e){var t=e.userSocialLogins,n=e.declineSuggestedAccount,r=Object(b.e)();return p.createElement(x.b,{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"normal",alignItems:"center"},p.createElement(x.b,{display:"flex",flexDirection:"row",marginRight:"20px"},t&&(t.facebook||t.google||t.twitter)?p.createElement(N.a,{userSocialLogins:t}):p.createElement(U.a,{onSuccess:function(){return r(Object(q.q)({step:"CHECK_YOUR_INBOX",operation:"login"}))},redactedEmailAddress:t&&t.redactedEmailAddress||"",userId:t&&t.userId||""},(function(e){var t=e.handleSubmit;return p.createElement("div",{style:{whiteSpace:"nowrap"}},p.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link"))}))),n&&p.createElement(x.b,{display:"flex"},p.createElement(z.a,{scale:"M"},p.createElement(M.a,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},ee=function(e){var t=e.optimizelyFeatureString,n=e.post;return p.createElement(Y.b,{source:{name:"upgrade_membership",dimension:"post_counter"}},p.createElement(G.a,null,p.createElement(x.b,{marginTop:"28px",paddingBottom:"36px",sm:{display:"none"},display:"inline-block",textAlign:"center"},p.createElement(g.a,{featureString:t,target:"desktop-upsell-button"},p.createElement(F.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"REGULAR",post:n},p.createElement(A.b,null,(function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"}))))),p.createElement(x.b,{display:"none",paddingBottom:"20px",sm:{margin:"12px 0 0",display:"block"},textAlign:"center"},p.createElement(g.a,{featureString:t,target:"mobile-upsell-button"},p.createElement(F.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"SMALL",post:n},p.createElement(A.b,null,(function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"})))))))},te=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,o=e.reportEventInfo,a=p.useState(!1),i=u()(a,2),s=i[0],l=i[1],m=Object(y.useTheme)(),d=Object(y.useCx)(),f=Object(V.c)(),v=Object(b.f)((function(e){return e.config.productName})),E=Object(b.f)((function(e){return e.session.user.id})),O=function(e,t,n,r){var o=e>1||document.body.offsetWidth<=r.breakpoints.md;return{headlineCopy:P(e,n),isTimer:o,microCopy:C(e,t,n)}}(t,n,v,m),j=O.headlineCopy,S=O.microCopy,k=O.isTimer,_="li-meter-banner-"+t,I=function(e,t,n){o.data.type=t?6:1,f.event("meter.showMeterBanner",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object(K.a)(n),alternateUserSuggestionTargetUserId:n.userId,alternateUserSuggestionSourceUserId:e?e.id:E}))};return p.createElement(h.b,null,p.createElement(x.J,{initialVisibility:!0},(function(e){var o=e.isVisible,a=e.hide;return p.createElement(B.a,{postRenderCallback:I},(function(e){var i=e.loading,c=e.showSuggestedAccount,u=e.declineSuggestedAccount,m=e.userSocialLogins;if(i)return p.createElement(p.Fragment,null);var f=k&&!s?6e3:null,b=t>1?"1024px":"100%",h=1===t?void 0:{md:{width:"740px"}};return c&&(l(!1),f=null,b="100%"),p.createElement(w,{hide:a,isVisible:o,timeOut:f,width:b,bannerType:"li",responsiveRules:h},p.createElement(x.b,{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 40px",maxWidth:"1040px",margin:"0 auto",sm:{padding:"0"}},p.createElement(x.b,{display:"flex"},p.createElement(g.a,{featureString:_,target:"meter-count-slot-machine"},p.createElement(x.b,{sm:{padding:"0 20px"}},p.createElement(L,{minNumber:n-t,maxNumber:n}))),p.createElement(x.b,{display:"flex",flexDirection:"column",paddingLeft:"40px",flexShrink:"1",flexGrow:"1",sm:{padding:"0",margin:"0",justifyContent:"center"},marginTop:"34px"},p.createElement(g.a,{featureString:_,target:"header"},c?p.createElement(p.Fragment,null,p.createElement(x.b,{paddingBottom:"16px",display:"block",sm:{paddingBottom:"0",display:"none",marginTop:"20px"}},p.createElement(z.c,{scale:"L"},"Switch to your member account for unlimited reading.")),p.createElement(x.b,{marginTop:"-5px",paddingBottom:"0",display:"none",sm:{display:"block"}},p.createElement(z.a,{color:"DARKER",scale:"L"},"Switch to your member account for unlimited reading."))):p.createElement(x.b,{paddingBottom:"16px",sm:{paddingBottom:"0",marginTop:"0"}},p.createElement(z.c,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"}},j))),p.createElement(g.a,{featureString:_,target:"desktop-expandable-section"},p.createElement(x.b,{sm:{display:"none"}},p.createElement("div",{className:d(J(s||c))},p.createElement(g.a,{featureString:_,target:"desktop-expanded-copy"},p.createElement(z.a,{scale:"L"},c&&m?"Looks like you're already a Medium member. Sign in to keep reading without interruptions.":S.lg)),c?null:p.createElement(ee,{optimizelyFeatureString:_,post:r})))),p.createElement(x.b,{display:"block",sm:{display:"none"},marginTop:"20px",marginBottom:"20px"},c&&m?p.createElement(Z,{userSocialLogins:m,declineSuggestedAccount:u}):null)),p.createElement(x.b,{display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:"33px",sm:{justifyContent:"center",margin:"0"}},p.createElement(x.b,{display:"flex",padding:"12px"},!c&&p.createElement(g.a,{featureString:_,target:"details-button"},p.createElement("div",{className:d(Q(!!s))},p.createElement(z.a,{scale:"M"},p.createElement(x.u,{onClick:function(){return l(!0)},linkStyle:"SUBTLE"},p.createElement(x.b,{display:"inline",md:{display:"none",marginRight:"0"},marginRight:"4px"},"Details"),p.createElement(x.b,{display:"inline",sm:{margin:"0",display:"block"}},p.createElement($.a,null)))))),p.createElement(g.a,{featureString:_,target:"".concat(k?"timer":"close","-button")},p.createElement(x.b,{marginLeft:"24px",sm:{display:s||c?"block":"none",margin:"0"}},c||!k||s?p.createElement(x.g,{onClick:a,isPositionAbsolute:!1,size:"SMALL"}):p.createElement(x.i,{delay:800,duration:5200,radius:8,strokeWidth:4})))))),p.createElement(g.a,{featureString:_,target:"mobile-expandable-section"},p.createElement(x.b,{display:"none",sm:{padding:"0 12px",textAlign:"center",display:"block"}},p.createElement("div",{className:d(J(s))},p.createElement(g.a,{featureString:_,target:"mobile-expanded-copy"},p.createElement(z.a,{scale:"L"},S.sm)),p.createElement(ee,{optimizelyFeatureString:_,post:r}))))),p.createElement(x.b,{marginLeft:"20px",display:"none",sm:{display:"block"},paddingBottom:"20px"},c&&m?p.createElement(Z,{userSocialLogins:m,declineSuggestedAccount:u}):null))}))})))},ne=d()(H(),F.b),re=n("./node_modules/@babel/runtime/helpers/extends.js"),oe=n.n(re),ae=n("./src/components/session/useFlag.tsx"),ie=n("./src/components/susi/SusiClickable.tsx"),se=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),ce=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),le=n("./src/framework/track/index.ts"),ue=n("./src/util/miroImage.ts");function me(){var e=o()(["\n  fragment LOMeterBanner_post on Post {\n    id\n  }\n"]);return me=function(){return e},e}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe="smart_meter",fe=function(e){var t=e.unlockCount,n=Object(ue.d)({miroId:"1*LyzKW5k0VC763U3vP6udTQ.png",height:128,width:227,strategy:ue.a.Resample}),r="url(".concat(n,")");return p.createElement(g.a,{featureString:"lo-meter-banner-".concat(t),target:"left-image",tag:"span"},p.createElement(x.b,{display:"flex",minWidth:"227px",height:"100%",flexBasis:"227px",backgroundImage:r,backgroundPosition:"right center",backgroundSize:"cover",md:{display:"none"}}))},be=function(e){var t=e.showSuggestedAccount,n=e.userSocialLogins,r=e.unlockCount,o=Object(b.e)(),a={operation:"register"},i=p.createElement(p.Fragment,null,p.createElement(g.a,{featureString:"lo-meter-banner-".concat(r),target:"google-button"},p.createElement(x.b,{marginRight:"12px",sm:{marginRight:"0px",marginBottom:"12px"}},p.createElement(ce.a,a))),p.createElement(g.a,{featureString:"lo-meter-banner-".concat(r),target:"facebook-button"},p.createElement(se.a,a)));return t&&n&&(i=p.createElement(x.b,{display:"flex",justifyContent:"center"},n.facebook||n.google||n.twitter?p.createElement(N.a,{userSocialLogins:n}):p.createElement(U.a,{onSuccess:function(){return o(Object(q.q)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:pe}))},redactedEmailAddress:n.redactedEmailAddress||"",userId:n.userId},(function(e){var t=e.handleSubmit;return p.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),p.createElement(x.b,{display:"flex",marginTop:"12px",textAlign:"center",sm:{flexDirection:"column",marginBottom:"12px"}},i)},ge=function(e){var t=e.post,n=e.reportEventInfo,r=p.useState(window.innerWidth),o=u()(r,2),a=o[0],i=o[1],s=Object(b.f)((function(e){return e.config.productName})),l=Object(b.f)((function(e){return e.session.user.id})),m=Object(ae.a)("enable_lo_meter_swap"),d=n.data.unlockCount,f=m&&2===d,h=m&&3===d,v=Object(V.c)(),E=Object(y.useTheme)();pe=f||h?f?"metered_view_2":"metered_view_3":"smart_meter";var O=function(e,t,r){v.event("meter.showMeterBanner",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object(K.a)(r),alternateUserSuggestionTargetUserId:r.userId,alternateUserSuggestionSourceUserId:e?e.id:l}))};return p.useEffect((function(){window.innerWidth<E.breakpoints.md&&(v.event("experiment.eligible",{experimentId:"273cb0ef6bb1"}),v.event("susi.viewed",{entryPoint:pe,operation:"register"}));var e=function(){i(window.innerWidth)};return le.a.on("resize",e),function(){le.a.off("resize",e)}}),[]),p.createElement(x.J,{initialVisibility:!0},(function(e){var n=e.isVisible,r=e.hide;return p.createElement(w,{hide:r,isVisible:n,bannerType:"lo"},p.createElement(x.w,{size:{xs:"full",sm:"full",md:"full",lg:"full",xl:"outset"}},p.createElement(x.b,{marginLeft:"12px",marginRight:"12px",display:"flex",flexDirection:"row",md:{marginLeft:"36px",marginRight:"36px",paddingTop:"10px",paddingBottom:"20px"},sm:{marginLeft:"12px",marginRight:"12px",flexDirection:"column"}},a>=1440?p.createElement(p.Fragment,null):p.createElement(fe,{unlockCount:d}),p.createElement(Y.b,{source:{susiEntry:pe,postId:t.id}},p.createElement(x.b,{display:"flex",flexDirection:"column",marginTop:"33px",marginBottom:"20px",marginLeft:"56px",flexGrow:"1",flexShrink:"1",md:{marginLeft:"0px"},sm:{marginTop:"0px",marginBottom:"0px",marginLeft:"0px"}},p.createElement(x.b,{alignSelf:"flex-end",display:"flex",flexDirection:"row",position:"relative",marginBottom:"-15px",marginRight:"12px",marginTop:"-27px",marginLeft:"12px",md:{marginRight:"0px"},sm:{flexDirection:"column",width:"100%",textAlign:"right",marginBottom:"8px",marginRight:"0px",marginTop:"0px",marginLeft:"0px"}},p.createElement(x.g,{onClick:r,isPositionAbsolute:!1,size:"LARGE"})),p.createElement(B.a,{postRenderCallback:O},(function(e){var t=e.loading,n=e.showSuggestedAccount,o=e.declineSuggestedAccount,a=e.userSocialLogins;if(t)return p.createElement(p.Fragment,null);var i="".concat(n?"suggested-account-":"","lo-meter-banner-").concat(d);return p.createElement(p.Fragment,null,p.createElement(x.b,{display:"flex",flexDirection:"row",sm:{flexDirection:"column",textAlign:"center",marginRight:"0"},marginRight:"86px",flexGrow:"1",flexShrink:"1"},p.createElement(g.a,{featureString:i,target:"header"},p.createElement(z.c,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"}},n?"Welcome back. Sign in to your ".concat(s," ").concat(a&&a.isMember?"member ":"","account."):f?"Read more stories this month when you create a free Medium account.":h?"This is your last free story this month. Sign up and get an extra one for free.":"Get one more story in your member preview when you sign up. It’s free."))),p.createElement(x.b,oe()({display:"flex",flexDirection:"row",alignItems:"center",sm:{flexDirection:"column",paddingTop:"4px"}},!!n&&{justifyContent:"space-between"}),p.createElement(be,{showSuggestedAccount:n,userSocialLogins:a,unlockCount:d}),p.createElement(x.b,{display:"flex",textAlign:"left",marginTop:"12px",sm:{textAlign:"center",marginLeft:"0px",marginTop:"0px"},marginLeft:"12px",flexShrink:"1"},p.createElement(z.a,{scale:"L"},n&&o?p.createElement(x.b,{margin:"0 12px"},p.createElement(M.a,{declineSuggestedAccount:function(){r(),o()},isSocial:!!a&&!!(a.facebook||a.google||a.twitter)})):p.createElement(p.Fragment,null,p.createElement(g.a,{featureString:i,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),p.createElement(g.a,{featureString:i,target:"sign-in-link",tag:"span"},p.createElement(ie.a,{linkStyle:"OBVIOUS",operation:"login",susiEntry:pe},"Sign in")))))))})))))))}))},he=d()(me()),xe=function(e){switch(e){case 2:return"metered_view_2";case 3:return"metered_view_3";case 1:default:return"smart_meter"}},ye=n("./src/styles/mediaTypes.ts"),ve=n("./src/styles/theme.ts"),Ee=n("./src/util/theme.ts");function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we={background:v.F,bottom:"0",width:"100%",position:"fixed",zIndex:E.a.metabar},Se=function(e,t){var n;return n={background:v.F,borderTop:t?"1px solid ".concat(v.F):"none",bottom:"auto",height:e?"70px":"45px",position:"absolute",transform:"translateY(-100%)"},c()(n,Object(ye.b)("no-preference"),{transition:"transform 300ms ease",willChange:"transform"}),c()(n,"width","100%"),n},ke=function(e){var t=e.children,n=e.post,r=Object(f.d)(A.a).data;return(r=void 0===r?{viewer:void 0}:r).viewer?p.createElement(x.b,{display:"inline-flex"},p.createElement(G.a,null,p.createElement(F.a,{inline:!0,linkStyle:"OBVIOUS",post:n},t))):p.createElement(ie.a,{linkStyle:"OBVIOUS",operation:"register",inline:!0},t)},_e=function(e){var t=e.meterCount,n=e.isMobile,r=e.featureString,o=e.post,a=Object(f.d)(A.a).data,i=function(e,t){return t?function(e){var t="Upgrade for unlimited access";switch(e){case 1:return{text:"You have two free stories left this month.",link:t};case 2:return{text:"You have one free story left this month.",link:t};case 3:return{text:"This is your last free story this month.",link:t};default:return{}}}(e):function(e){switch(e){case 1:return{text:"Read more stories this month when you",link:"create a free Medium account."};case 2:return{text:"Read more on Medium.",link:"Create a free account."};case 3:return{text:"This is your last free story this month.",link:"Sign up and get an extra one for free."};default:return{}}}(e)}(t,!!(a=void 0===a?{viewer:void 0}:a).viewer),s=n?p.createElement(x.b,{display:"flex"},p.createElement("span",{style:{textDecoration:"underline"}},i.link)):p.createElement(ke,{post:o},i.link);return p.createElement(x.b,{alignItems:n?void 0:"flex-start",display:n?"none":"flex",sm:je({display:n?"flex":"none"},n&&{flexDirection:"column",justifyContent:"center"})},p.createElement(g.a,{featureString:r,target:"header"},p.createElement(z.a,{scale:n?"M":"L",color:"DARKER"},i.text,n?p.createElement("br",null):" ",s)))},Ie=function(e){var t=e.meterCount,n=e.post,r=e.reportEventInfo,o=Object(f.d)(A.a).data,a=(o=void 0===o?{viewer:void 0}:o).viewer;return p.createElement(x.J,{initialVisibility:!0},(function(e){var o=e.isVisible,i=e.hide;return p.createElement(Y.b,{source:je({},a?{name:"upgrade_membership",dimension:"post_counter"}:{susiEntry:xe(t)},{postId:n.id})},p.createElement(Pe,{reportEventInfo:r,meterCount:t,isVisible:o,hide:i,post:n}))}))},Pe=function(e){var t=e.isVisible,n=e.meterCount,r=e.hide,o=e.post,a=e.reportEventInfo,i=Object(y.useCx)(),s=Object(y.useTheme)(),c=Object(V.c)(),l=!!Object(ae.a)("enable_blue_small_meter"),m=p.useState(window.innerWidth),d=u()(m,2),h=d[0],O=d[1],j=Object(Y.g)(),w=Object(f.d)(A.a).data,S=(w=void 0===w?{viewer:void 0}:w).viewer,k=Object(b.f)((function(e){return{postRead:e.navigation.postRead}}),b.d).postRead,_=h<s.breakpoints.md,I="".concat(S?"li":"lo","-").concat(_?"mobile":"desktop","-small-meter-").concat(n);p.useEffect((function(){!S&&j&&c.event("susi.viewed",{entryPoint:j,operation:"register"}),c.event("meter.showMeterBanner",je({},a.data)),c.event("experiment.eligible",{experimentId:"847aa5d4fb4"})}),[]),p.useEffect((function(){var e=function(){return O(window.innerWidth)};return le.a.on("resize",e),function(){return le.a.off("resize",e)}}),[]);var P;return p.createElement(x.w,{size:"full"},p.createElement("div",{className:i(we)},p.createElement(x.b,{position:"relative",background:v.F,width:"100%",borderTop:"BASE_LIGHTER"},t&&!k&&p.createElement(x.b,{top:"-101px",background:"linear-gradient(".concat(Object(v.D)(0),", ").concat(Object(v.D)(1),")"),height:"100px",position:"absolute",width:"100%"}),t&&(P=p.createElement("div",{className:i(Se(_,k))},p.createElement(x.b,{width:"100%",background:l?v.o:Object(v.A)(.9),height:"100%",padding:_?"14px 25px":"8px"},p.createElement(x.b,{display:"flex",justifyContent:"center",maxWidth:"764px",width:"100%",margin:"auto"},p.createElement(y.ThemeProvider,{theme:l?ve.a:Object(Ee.e)(s)},p.createElement(x.b,{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},p.createElement(_e,{meterCount:n,isMobile:_,featureString:I,post:o}),p.createElement("div",{className:i({zIndex:E.a.metabarCenter})},p.createElement(x.b,{tag:"span",display:"flex",alignItems:"center"},p.createElement(g.a,{featureString:I,target:"close-button"},p.createElement(x.g,{onClick:function(){c.event("meter.bannerDismissed",je({},a.data)),r()},isPositionAbsolute:!1,size:"SMALL"}))))))))),_?p.createElement(ke,{post:o},P):P))))},Ce=n("./src/components/read-next/ReadNext.tsx"),De=n("./src/components/susi/susi-modal/SusiContainer.tsx"),Re=n("./src/screens/helpers/visits.ts"),Te=n("./src/store/actions/branch.ts"),Le=n("./src/store/actions/googleOneTap.ts");function Ae(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return Ae=function(){return e},e}function Ue(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIMeterBanner_post\n    ...LOMeterBanner_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return Ue=function(){return e},e}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return ze})),n.d(t,"c",(function(){return We})),n.d(t,"b",(function(){return Ve}));var Be=function(e){var t=e.defaultEventInfo,n=e.meterCount,r=e.meteringInfo,o=e.post,a=e.viewer,i=Object(V.c)(),s=!!Object(ae.a)("li_small_meter"),c=p.useState(!1),l=u()(c,2),m=l[0],d=l[1],f=r.maxUnlockCount||3,b={eventName:"meter.showMeterBanner",data:Me({},t,{type:0,userId:a&&a.id||void 0})};return p.useEffect((function(){m&&i.event("experiment.eligible",{experimentId:"505e25747a8b"})}),[m]),n<=f?Object(Re.l)()&&Object(Ce.b)(a)?(Object(Re.f)(),null):(m||d(!0),s?p.createElement(Ie,{meterCount:n,post:o,reportEventInfo:b}):p.createElement(te,{meterCount:n,meterLimit:f,post:o,reportEventInfo:b})):null},Fe=function(e){var t=e.defaultEventInfo,n=e.meterCount,r=e.post,o=e.viewer,a=Object(b.e)(),s=Object(V.c)(),c=Object(b.f)((function(e){return{hasRenderedGoogleOneTap:e.navigation.hasRenderedGoogleOneTap}}),b.d).hasRenderedGoogleOneTap,l=Object(ae.a)("one_tap_not_meter"),m=Object(ae.a)("enable_lo_meter_swap"),d=!!Object(ae.a)("enable_minimal_meter_v2"),f=p.useState(!1),g=u()(f,2),h=g[0],x=g[1],y=p.useState(!1),v=u()(y,2),E=v[0],O=v[1];p.useEffect((function(){s.event("experiment.eligible",{experimentId:"14adb0039fbd"})}),[]),p.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":i()(document))&&(s.event("experiment.eligible",{experimentId:"58abb9eeee1e"}),s.event("experiment.eligible",{experimentId:"b630dbce3fa2"}),O(!0))}),[c]);var j={eventName:"meter.showMeterBanner",data:Me({},t,{type:0,userId:o&&o.id||void 0})},w=d?p.createElement(Ie,{meterCount:n,post:r,reportEventInfo:j}):p.createElement(ge,{post:r,reportEventInfo:j}),S=function(e){return!l||!m||E&&!0!==c?m?(j.data.type=3,w):(j.data.type=2,function(e){h||(a(Object(q.q)({step:"SIGNUP_OPTIONS",post:r,operation:"register",susiEntry:e,reportEventInfo:j})),x(!0))}(e),null):null};switch(n){case 1:return m&&!d?null:!l||E&&!0!==c?(j.data.type=3,w):null;case 2:return d?w:S("metered_view_2");case 3:return d?w:S("metered_view_3");default:return null}},ze=function(e){var t=e.meteringInfo,n=e.post,r=t.postIds.length,o=Object(b.e)(),a=Object(ae.a)("enable_mk_branch_cleanup"),s={postId:n.id,unlockCount:r},c=p.useState(!1),l=u()(c,2),m=l[0],d=l[1];p.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":i()(document))&&d(!0)}),[]),p.useEffect((function(){return(1===r&&!a||r>2||v)&&o(Object(Te.f)(!1)),function(){o(Object(Te.f)(!0))}}),[]);var g=Object(f.d)(A.a),h=g.loading,x=g.error,y=g.data,v=(y=void 0===y?{viewer:void 0}:y).viewer;if(h||x)return p.createElement(p.Fragment,null);var E=v&&v.mediumMemberAt||void 0,O=n&&n.creator&&n.creator.id||void 0,j=v&&v.id||void 0,w=v?E||O===j:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,S=!m||!n.isLocked||!t.postIds.includes(n.id)||w,k=v?p.createElement(Be,{defaultEventInfo:s,meterCount:r,meteringInfo:t,post:n,viewer:v}):p.createElement(Fe,{defaultEventInfo:s,hideGoogleOneTap:Le.d,meterCount:r,post:n,viewer:v});return p.createElement(p.Fragment,null,!S&&k)},We=d()(Ue(),ne,he,De.d),Ve=d()(Ae())},"./src/components/mute/useMute.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),l=n("./node_modules/react/index.js"),u=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),m=n("./src/handlers/SharedPostHandler.tsx");function d(){var e=i()(["\n  mutation UnmutePubMutation($pubId: ID!) {\n    unmuteCollection(targetCollectionId: $pubId) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=i()(["\n  mutation MutePubMutation($pubId: ID!) {\n    muteCollection(targetCollectionId: $pubId) {\n      id\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=i()(["\n  mutation UnmuteAuthorMutation($authorId: ID!) {\n    unmuteUser(targetUserId: $authorId) {\n      id\n    }\n  }\n"]);return f=function(){return e},e}function b(){var e=i()(["\n  mutation MuteAuthorMutation($authorId: ID!) {\n    muteUser(targetUserId: $authorId) {\n      id\n    }\n  }\n"]);return b=function(){return e},e}var g=c()(b()),h=c()(f()),x=c()(p()),y=c()(d()),v=function(e,t){var n=l.useContext(m.a).refetch,r=l.useCallback((function(){return n()}),[n]),a=Object(u.c)(g,{variables:{authorId:e},update:r}),i=o()(a,1)[0],s=Object(u.c)(h,{variables:{authorId:e},update:r}),c=o()(s,1)[0],d=Object(u.c)(x,{variables:{pubId:t},update:r}),p=o()(d,1)[0],f=Object(u.c)(y,{variables:{pubId:t},update:r});return{muteAuthor:i,unmuteAuthor:c,mutePub:p,unmutePub:o()(f,1)[0]}}},"./src/components/read-next/ReadNext.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(s),l=n("./node_modules/graphql-tag/src/index.js"),u=n.n(l),m=n("./node_modules/react/index.js"),d=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./src/components/ui/image/index.ts"),b=n("./src/framework/design-system/components/index.ts"),g=n("./src/framework/design-system/type/Detail.tsx"),h=n("./src/framework/design-system/type/Overline.tsx"),x=n("./src/framework/style/index.ts"),y=n("./src/util/miroImage.ts"),v=n("./src/util/routes.ts");function E(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return E=function(){return e},e}var O=u()(E()),j=Object(p.c)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.post,o=r&&r.previewImage||{},a=o.focusPercentX,i=o.focusPercentY,s=o.id,c=o.alt,l=r.collection||{},u=l.name,d=l.id,p=r.primaryTopic&&r.primaryTopic.name,E=d&&(n.includes(d)?u:p)||"",O=r&&r.title||"",j=Object(v.ob)(r,t),w=Object(x.useCx)(),S=m.createElement(b.b,{marginBottom:"4px"},m.createElement(h.a,{tag:"span"},m.createElement(g.a,{scale:"S",color:"DARKER"},m.createElement("div",{className:w({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},E))));return m.createElement(b.f,{href:j},m.createElement(b.b,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},S,m.createElement(b.b,{display:"flex",flexDirection:"row"},m.createElement(f.b,{miroId:s||"",alt:c||"",height:50,width:50,freezeGifs:!0,strategy:y.a.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:a||50,focusPercentY:i||50}),m.createElement(b.b,{display:"flex",flexDirection:"column",width:"130px"},m.createElement(g.a,{scale:"S",color:"DARKER",clamp:3},O)))))})),w=n("./src/components/session/WithViewer.tsx"),S=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),k=n("./src/framework/design-system/type/index.ts"),_=n("./src/framework/design-system/util/style/responsiveStyles.ts"),I=n("./src/framework/reporter/index.ts"),P=n("./src/framework/source/index.ts"),C=n("./src/screens/helpers/visits.ts"),D=n("./src/util/constants.ts");function R(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return N}));var A=function(e){var t={display:"none"};return Object(_.a)(e,{":last-of-type":{xs:t,sm:t,md:t,lg:t,xl:{display:"block"}}})},U=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=m.useState(!1),a=c()(o,2),i=a[0],s=a[1],l=Object(d.d)(w.a).data,u=(l=void 0===l?{viewer:void 0}:l).viewer,p=Object(d.b)(M),f=c()(p,2),g=f[0],h=f[1],y=h.called,v=h.loading,E=h.error,O=h.data,_=(O=void 0===O?{post:void 0}:O).post,D=u&&N(u)&&!(Object(C.g)()||i),R=Object(I.c)(),T=Object(x.useCx)(),U=Object(P.e)(),B=_&&_.readNext;return m.useEffect((function(){v||!E||B&&B.length||R.event("readNextError",{post:_,postId:r,error:E,readNextLength:B&&B.length||0})}),[v]),m.useEffect((function(){n&&B&&(R.event("readNext.viewed",{position:"sidebar"}),B.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return R.event("post.clientPresented",{source:Object(P.c)(L({},U,{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,B]),!y&&D&&g({variables:{postId:r||""}}),y&&!v&&!E&&_&&B&&B.length&&D?m.createElement(P.b,{source:{name:"read_next",sectionType:P.a.READ_NEXT_SIDEBAR},extendSource:!0},m.createElement(b.b,{width:"188px"},m.createElement(b.b,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},m.createElement(b.b,{position:"absolute",right:"0",top:"-4px"},m.createElement(S.a,{onClick:function(){Object(C.a)(),s(!0)},size:"SMALL",isPositionAbsolute:!1})),m.createElement(b.b,{width:"200px"},m.createElement(k.c,{scale:"XS"},"Your journey starts here.")),m.createElement(b.b,{display:"flex",flexDirection:"column",justifyContent:"space-between"},_.readNext.slice(0,4).map((function(e,t){var n=e.post;return m.createElement("div",{className:T(A),key:t},m.createElement(j,{key:t,post:n}))})))))):null};function N(e){return e&&e.createdAt+D.a>Date.now()}var M=u()(R(),O)},"./src/components/susi/FreePostSusiController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return S}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/date-fns/index.js"),c=n("./node_modules/graphql-tag/src/index.js"),l=n.n(c),u=n("./node_modules/react/index.js"),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/session/useFlag.tsx"),b=n("./src/components/susi/susi-modal/SusiContainer.tsx"),g=n("./src/framework/reporter/index.ts"),h=n("./src/framework/style/index.ts"),x=n("./src/screens/helpers/visits.ts"),y=n("./src/store/actions/branch.ts"),v=n("./src/store/actions/googleOneTap.ts"),E=n("./src/store/actions/navigation.ts"),O=n("./src/util/referrers.ts");function j(){var e=o()(["\n  fragment FreePostSusiController_post on Post {\n    visibility\n    latestPublishedVersion\n    collection {\n      id\n      domain\n      slug\n    }\n    ...SusiContainer_post\n  }\n  ","\n"]);return j=function(){return e},e}var w=function(e){var t=e.post,n=Object(d.e)(),r=Object(g.c)(),o=Object(h.useTheme)(),a=u.useState(!1),c=i()(a,2),l=c[0],b=c[1],j=Object(m.d)(p.a),w=j.loading,S=j.error,k=j.data,_=(k=void 0===k?{viewer:void 0}:k).viewer,I=Object(f.a)("pardon_the_interruption_4"),P=Object(d.f)((function(e){return{isBot:e.client.isBot,isCustomDomain:e.client.isCustomDomain,referrer:e.navigation.referrer,signInWallCustomDomainCollectionIds:e.config.signInWallCustomDomainCollectionIds}})),C=P.isBot,D=P.isCustomDomain,R=P.referrer,T=P.signInWallCustomDomainCollectionIds;u.useEffect((function(){return!function(e,t,n,r,o,a,i,c){var l=e?3:1;return!(n||document.body.offsetWidth<i.breakpoints.lg||Object(O.c)(t)||Object(s.addDays)(Object(x.d)(),1)>Date.now()||function(e,t,n){var r="UNLISTED"===e.visibility||!e.latestPublishedVersion,o=e.collection,a=n&&!t.includes(o&&o.id),i=!(!o||!o.slug||"policy"!==o.slug);return r||a||i}(o,a,r))&&(Object(x.e)()<1&&c.event("experiment.eligible",{experimentId:"e63b47e2f5ac"}),!(Object(x.e)()<l))}(I,R,C,D,t,T,o,r)?n(Object(y.f)(!1)):(b(!0),Object(x.m)(),n(Object(v.d)()),r.event("signInWall.eligible",{})),function(){n(Object(y.f)(!0))}}),[t.id]);var L=D?"post_custom_domain":"post_free";return u.useEffect((function(){!_&&l&&n(Object(E.q)({step:"SIGNUP_OPTIONS",post:t,operation:"register",susiEntry:L,user:_}))}),[_,l]),w||S?u.createElement(u.Fragment,null):null},S=l()(j(),b.d)},"./src/components/susi/RedirectToSignIn.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./src/components/navigation/Redirect.tsx"),i=n("./src/util/navigation.ts"),s=n("./src/util/routes.ts"),c=function(e){var t=e.opt_isDraft,n=Object(o.f)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}),o.d),c=n.authDomain,l=n.currentLocation,u=Object(i.a)(Object(s.xb)(c),{redirect:l,isDraft:t?"1":"0"});return r.createElement(a.a,{to:u,temporary:!0})}},"./src/components/susi/alternate-user/NotYou.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/session/WithViewer.tsx"),l=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/source/index.ts"),m=n("./src/store/actions/navigation.ts");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=Object(u.g)(),p=Object(s.e)(),f=Object(i.d)(c.a),b=f.loading,g=f.error,h=f.data,x=(h=void 0===h?{viewer:void 0}:h).viewer;if(b||g)return a.createElement(a.Fragment,null);var y=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),p(Object(m.q)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!r&&{susiEntry:r})))};return x?a.createElement(l.u,{onClick:function(){return t()}},"Not me"):n?a.createElement(l.u,{onClick:function(){return y("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):a.createElement(a.Fragment,null,"Not you?"," ",a.createElement(l.u,{onClick:function(){return y("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",a.createElement(l.u,{onClick:function(){return y("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))}},"./src/handlers/SharedPostHandler.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),c=n.n(s),l=n("./node_modules/react/index.js"),u=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/error/PostResultError.tsx"),p=n("./src/components/meter/MeterController.tsx"),f=n("./node_modules/url/url.js"),b=n.n(f),g=n("./src/components/navigation/Redirect.tsx"),h=n("./src/util/navigation.ts");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(){var e=i()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return y=function(){return e},e}var v=c()(y()),E=Object(m.c)((function(e){return{currentHost:e.navigation.host,shareKey:e.navigation.shareKey,source:e.navigation.referrerSource}}))((function(e){var t=e.post,n=e.matchedPath,r=e.children,a=e.currentHost,i=e.shareKey,s=e.source,c=t.mediumUrl;if(!c)return r;var u=b.a.parse(decodeURIComponent(c)),m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s?{source:s}:{},{},i?{sk:i}:{});return a!==u.host?l.createElement(g.a,{to:Object(h.a)(c,m)}):u.path&&n!==u.path?l.createElement(g.a,{to:Object(h.a)(u.path,m)}):r})),O=n("./src/components/session/WithViewer.tsx"),j=n("./src/components/session/useFlag.tsx"),w=n("./src/components/susi/FreePostSusiController.tsx"),S=n("./src/screens/ErrorScreen.tsx"),k=n("./src/screens/LoadingScreen.tsx"),_=n("./src/screens/NotFoundScreen.tsx"),I=n("./src/util/routes.ts");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(){var e=i()(["\n  fragment SharedPostHandler_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return C=function(){return e},e}function D(){var e=i()(["\n  fragment SharedPostHandler_postResult on PostResult {\n    __typename\n    ...PostResultError_postResult\n    ... on Post {\n      ...FreePostSusiController_post\n      ...MeterController_post\n      ...PostCanonicalizer_post\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return D=function(){return e},e}n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return A}));var R=c()(D(),d.b,w.b,p.c,v),T=c()(C(),p.b),L=l.createContext({refetch:function(){return Promise.resolve()},fetchMore:function(){return Promise.reject()},postId:""}),A=Object(m.c)((function(e){return{source:e.navigation.referrerSource||void 0,referrer:e.navigation.referrer,shareKey:e.navigation.shareKey}}))((function(e){var t=e.children,n=e.match,r=e.query,a=e.extraVariables,i=void 0===a?{}:a,s=e.referrer,c=e.shareKey,m=e.source,f=Object(I.nb)(n),b=Object(j.a)("enable_pardon_the_interruption_removal");if(!f)return l.createElement(_.a,null);var g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({postId:f,postMeteringOptions:{referrer:s,source:m,sk:c},postResponsesPaging:{limit:10}},i);return l.createElement(u.b,{query:r,variables:g},(function(e){var r=e.loading,o=e.error,a=e.data,i=(a=void 0===a?{}:a).meterPost,s=a.postResult,c=e.refetch,u=e.fetchMore;return r?l.createElement(k.a,null):o?l.createElement(S.a,{error:o}):Object(d.c)(s)?l.createElement(d.a,{postResult:s}):l.createElement(L.Provider,{value:{refetch:c,fetchMore:u,postId:f}},l.createElement(E,{post:s,matchedPath:n.url,key:f},s.isLocked?l.createElement(p.a,{meteringInfo:i,post:s}):!b&&l.createElement(w.a,{post:s}),l.createElement(O.b,null,(function(e){return t({meterPost:i,postId:f,postResult:s,viewer:e})}))))}))}))},"./src/screens/ContentErrorScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-helmet-async/lib/index.module.js"),s=n("./node_modules/react-router/esm/react-router.js"),c=n("./src/components/metabar/Metabar.tsx"),l=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/util/type/toRule.ts"),m=n("./src/framework/style/index.ts"),d=n("./src/styles/font.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f={fontSize:"20px",textTransform:"uppercase"},b=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(u.a)((function(e){return{font:e.font.marketing,fontSize:192,lineHeight:200,display:"block"}}))(e))},g={fontSize:"24px"};function h(e){var t=e.code,n=e.title,r=e.description,o=e.lumenId,u=Object(m.useCx)();return a.createElement(s.b,{render:function(e){var s=e.staticContext;return s&&(s.statusCode=t),a.createElement(l.M,null,(function(e){return a.createElement("div",null,a.createElement(i.a,null,a.createElement("title",null,n)),a.createElement(c.a,null),a.createElement(l.b,{tag:"section",paddingTop:"60px",paddingBottom:"60px"},a.createElement(l.B,{columns:8},a.createElement(l.b,{display:"flex",alignItems:"flex-start",flexWrap:"wrap"},a.createElement(l.b,{display:"flex",flexDirection:"column"},a.createElement("div",{className:u(f)},"Error"),a.createElement("div",{className:u(b)},t)),a.createElement("div",{className:u(Object(d.l)())},a.createElement(l.b,{marginBottom:"28px"},a.createElement("div",{className:u(g)},r)),o?a.createElement("div",{className:u(g)},"A report is available on"," ",a.createElement(l.u,{href:"https://lumendatabase.org/notices/".concat(o),display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Lumen"),"."):null)))))}))}})}},"./src/screens/SuspendedScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/WithFlag.tsx"),a=n("./src/framework/design-system/components/index.ts"),i=n("./src/framework/design-system/type/index.ts"),s=n("./src/framework/reporter/index.ts"),c=n("./src/screens/ContentErrorScreen.tsx"),l=n("./src/util/routes.ts"),u=function(e){var t=e.suspension,n=Object(s.c)();return r.createElement(c.a,{code:410,title:"410 ".concat(t," suspended — Medium"),description:r.createElement(o.a,{name:"enable_new_suspended_page"},(function(e){return e?r.createElement(r.Fragment,null,r.createElement(a.b,{display:"flex",marginTop:"-30px"},r.createElement(i.f,{scale:"S"},"This ",t," is under investigation or was found in violation of the Medium Rules."," ")),r.createElement(a.b,{display:"flex",marginTop:"80px"},r.createElement(i.f,{color:"DARKER",scale:"M"},"There are thousands of stories to read on Medium. Visit our homepage ",r.createElement("br",null)," to find one that’s right for you.")),r.createElement(a.b,{display:"flex",marginTop:"15px"},r.createElement(a.c,{buttonStyle:"SUBTLE",href:Object(l.U)(),onClick:function(){n.event("suspendedPage.backToHomeClicked",{})}},"Take me to Medium"))):r.createElement(r.Fragment,null,"This ",t," is under investigation or was found in violation of the"," ",r.createElement(a.u,{href:"https://medium.com/policy/30e5502c4eb4",display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium Rules"))}))})}},"./src/svg/arrow-down-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M3.9 6.77l5.2 5.76.43.47.43-.47 5.15-5.7-.85-.77-4.73 5.25L4.75 6z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:19,height:19},e),i)}}}]);
//# sourceMappingURL=screen.debug.cachedPost~screen.landingpages.tribute~screen.muted.settings~screen.post~screen.post.am~d3a2d9f2.ea22de82.chunk.js.map